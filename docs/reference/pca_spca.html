<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Scalable principal component analysis via streaming power iterations — pca_spca • bigPCAcpp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Scalable principal component analysis via streaming power iterations — pca_spca"><meta name="description" content="Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.
Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.
Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory."><meta property="og:description" content="Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.
Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.
Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bigPCAcpp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/bigPCAcpp.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/bigPCA-benchmarks.html">Benchmarking bigPCAcpp Workflows</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/fbertran/bigPCAcpp/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Scalable principal component analysis via streaming power iterations</h1>
      <small class="dont-index">Source: <a href="https://github.com/fbertran/bigPCAcpp/blob/HEAD/R/pca_interface.R" class="external-link"><code>R/pca_interface.R</code></a></small>
      <div class="d-none name"><code>pca_spca.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.</p>
<p>Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.</p>
<p>Implements the scalable PCA (sPCA) procedure of Elgamal et al. (2015), which
uses block power iterations to approximate the leading principal components
while streaming the data in manageable chunks. The algorithm only requires
matrix-vector products, allowing large matrices to be processed without
materialising the full cross-product in memory.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pca_spca</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  block_size <span class="op">=</span> <span class="fl">2048L</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_scores <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pca_spca</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  block_size <span class="op">=</span> <span class="fl">2048L</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_scores <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pca_spca_R</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  block_size <span class="op">=</span> <span class="fl">2048L</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_scores <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pca_spca</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  block_size <span class="op">=</span> <span class="fl">2048L</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_scores <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">pca_spca_R</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  ncomp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  scale <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  block_size <span class="op">=</span> <span class="fl">2048L</span>,</span>
<span>  max_iter <span class="op">=</span> <span class="fl">50L</span>,</span>
<span>  tol <span class="op">=</span> <span class="fl">1e-04</span>,</span>
<span>  seed <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_scores <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>A numeric matrix, data frame, <code><a href="https://rdrr.io/pkg/bigmemory/man/big.matrix.html" class="external-link">bigmemory::big.matrix</a></code>, or an
external pointer referencing a big.matrix. The input is processed in
row-wise blocks so that large matrices can be analysed without creating
dense copies in R memory.</p></dd>


<dt id="arg-ncomp">ncomp<a class="anchor" aria-label="anchor" href="#arg-ncomp"></a></dt>
<dd><p>Number of principal components to retain. Use <code>NULL</code> or a
non-positive value to keep <code>min(nrow(x), ncol(x))</code> components.</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>Logical; should column means be subtracted before performing
PCA?</p></dd>


<dt id="arg-scale">scale<a class="anchor" aria-label="anchor" href="#arg-scale"></a></dt>
<dd><p>Logical; when <code>TRUE</code>, columns are scaled to unit variance after
centring. Scaling requires <code>center = TRUE</code>.</p></dd>


<dt id="arg-block-size">block_size<a class="anchor" aria-label="anchor" href="#arg-block-size"></a></dt>
<dd><p>Number of rows to stream per block when computing column
statistics and matrix-vector products.</p></dd>


<dt id="arg-max-iter">max_iter<a class="anchor" aria-label="anchor" href="#arg-max-iter"></a></dt>
<dd><p>Maximum number of block power iterations.</p></dd>


<dt id="arg-tol">tol<a class="anchor" aria-label="anchor" href="#arg-tol"></a></dt>
<dd><p>Convergence tolerance applied to the Frobenius norm of the
difference between successive subspace projectors.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Optional integer seed used to initialise the random starting
basis.</p></dd>


<dt id="arg-return-scores">return_scores<a class="anchor" aria-label="anchor" href="#arg-return-scores"></a></dt>
<dd><p>Logical; when <code>TRUE</code>, principal component scores are
computed in a final streaming pass over the data.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Logical; when <code>TRUE</code>, diagnostic messages describing the
iteration progress are emitted.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code><a href="bigpca.html">bigpca</a></code> object containing the approximate PCA solution with the
same structure as <code><a href="pca_bigmatrix.html">pca_bigmatrix()</a></code>. The result includes component standard
deviations, rotation/loadings, optional scores, column statistics, and
variance summaries. Additional metadata is stored in
<code>attr(result, "iterations")</code> (number of iterations performed),
<code>attr(result, "tolerance")</code> (requested tolerance), and
<code>attr(result, "converged")</code> (logical convergence flag).</p>
<p>A <code><a href="bigpca.html">bigpca</a></code> object containing the approximate PCA solution with the
same structure as <code><a href="pca_bigmatrix.html">pca_bigmatrix()</a></code>. The result includes component standard
deviations, rotation/loadings, optional scores, column statistics, and
variance summaries. Additional metadata is stored in
<code>attr(result, "iterations")</code> (number of iterations performed),
<code>attr(result, "tolerance")</code> (requested tolerance), and
<code>attr(result, "converged")</code> (logical convergence flag).</p>
<p>A <code><a href="bigpca.html">bigpca</a></code> object containing the approximate PCA solution with the
same structure as <code><a href="pca_bigmatrix.html">pca_bigmatrix()</a></code>. The result includes component standard
deviations, rotation/loadings, optional scores, column statistics, and
variance summaries. Additional metadata is stored in
<code>attr(result, "iterations")</code> (number of iterations performed),
<code>attr(result, "tolerance")</code> (requested tolerance), and
<code>attr(result, "converged")</code> (logical convergence flag).</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Tarek Elgamal, Maysam Yabandeh, Ashraf Aboulnaga, Waleed Mustafa, and Mohamed
Hefeeda (2015). <em>sPCA: Scalable Principal Component Analysis for Big Data on
Distributed Platforms</em>. Proceedings of the 2015 ACM SIGMOD International
Conference on Management of Data. <a href="doi:10.1145/2723372.2751520">doi:10.1145/2723372.2751520</a>.</p>
<p>Tarek Elgamal, Maysam Yabandeh, Ashraf Aboulnaga, Waleed Mustafa, and Mohamed
Hefeeda (2015). <em>sPCA: Scalable Principal Component Analysis for Big Data on
Distributed Platforms</em>. Proceedings of the 2015 ACM SIGMOD International
Conference on Management of Data. <a href="doi:10.1145/2723372.2751520">doi:10.1145/2723372.2751520</a>.</p>
<p>Tarek Elgamal, Maysam Yabandeh, Ashraf Aboulnaga, Waleed Mustafa, and Mohamed
Hefeeda (2015). <em>sPCA: Scalable Principal Component Analysis for Big Data on
Distributed Platforms</em>. Proceedings of the 2015 ACM SIGMOD International
Conference on Management of Data. <a href="doi:10.1145/2723372.2751520">doi:10.1145/2723372.2751520</a>.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Frederic Bertrand.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

